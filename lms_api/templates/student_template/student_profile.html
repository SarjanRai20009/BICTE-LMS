{% extends 'student_template/st_base_template.html' %} {% block title%} My Profile -BICTE-LMS{% endblock %} {% load static %}{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Student Profile</h2>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-body">
                    <div class="text-center mb-3">
                        {% if student.profile_picture %}
                        <img src="{{ student.profile_picture.url }}" alt="Profile Picture" class="rounded-circle" style="width: 150px; height: 150px" /> {% else %}
                        <img src="{% static 'images/no_image2.jpg' %}" alt="Default Profile Picture" class="rounded-circle" style="width: 150px; height: 150px" /> {% endif %}
                    </div>
                    <h4 class="text-center">{{student.st_name}}</h4>
                    <p class="text-center text-muted fw-bold">
                        BICTE Student | Sukuna Multiple Campus
                    </p>
                    <hr />
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <strong>Email:</strong> {{student.st_email}}
                        </li>
                        <li class="list-group-item">
                            <strong>Batch:</strong> {{student.semester.batch}}
                        </li>
                        <li class="list-group-item"><strong>Current-Semester:</strong> {{student.semester.get_se_name_display}}</li>
                        <li class="list-group-item">
                            <strong>Completed Courses:</strong> 10
                        </li>
                        <li class="list-group-item"><strong>Ongoing Courses:</strong> 3</li>
                        <li class="list-group-item">
                            <strong>Assignments Pending:</strong> 2
                        </li>
                    </ul>
                    <div class="text-center mt-3">
                        <a href="#" class="btn btn-primary">Edit Profile</a>
                        <a href="#" class="btn btn-danger">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document
        .getElementById("profileDropdown")
        .addEventListener("change", function() {
            console.log("Dropdown changed"); // Debugging line
            var selectedImage = this.value;
            if (selectedImage) {
                var fileInput = document.getElementById("profilepicture");
                var file = new File([""], selectedImage.split("/").pop(), {
                    type: "image/jpeg",
                });
                const dataTransfer = new DataTransfer();
                dataTransfer.items.add(file);
                fileInput.files = dataTransfer.files;
            }
        });
</script>
{% endblock %}